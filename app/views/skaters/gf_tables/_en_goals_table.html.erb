<table class="table table-bordered">
  <thead>
    <tr>
      <th class="rank-th">#</th>
      <th class="name-th"><%= sort_link path, "last_name", "Name" %></th>
      <th><%= sort_link path, "season", "Year" %></th>
      <th><%= sort_link path, "season_age", "Age" %></th>
      <th><%= sort_link path, "team_id", "Team" %></th>
      <th><%= sort_link path, "gf_enf", "ENFGF" %></th>
      <th><%= sort_link path, "ga_enf", "ENFGA" %></th>
      <th><%= sort_link path, "gf_p_enf", "ENFGF%" %></th>
      <th><%= sort_link path, "gf_6v5", "6v5GF" %></th>
      <th><%= sort_link path, "ga_6v5", "6v5GA" %></th>
      <th><%= sort_link path, "gf_p_6v5", "6v5GF%" %></th>
      <th><%= sort_link path, "gf_6v4", "6v4GF" %></th>
      <th><%= sort_link path, "ga_6v4", "6v4GA" %></th>
      <th><%= sort_link path, "gf_p_6v4", "6v4GF%" %></th>
      <th><%= sort_link path, "gf_6v3", "6v3GF" %></th>
      <th><%= sort_link path, "ga_6v3", "6v3GA" %></th>
      <th><%= sort_link path, "gf_p_6v3", "6v3GF%" %></th>
      <th><%= sort_link path, "gf_ena", "ENAGF" %></th>
      <th><%= sort_link path, "ga_ena", "ENAGA" %></th>
      <th><%= sort_link path, "gf_p_ena", "ENAGF%" %></th>
      <th><%= sort_link path, "gf_5v6", "5v6GF" %></th>
      <th><%= sort_link path, "ga_5v6", "5v6GA" %></th>
      <th><%= sort_link path, "gf_p_5v6", "5v6GF%" %></th>
      <th><%= sort_link path, "gf_4v6", "4v6GF" %></th>
      <th><%= sort_link path, "ga_4v6", "4v6GA" %></th>
      <th><%= sort_link path, "gf_p_4v6", "4v6GF%" %></th>
      <th><%= sort_link path, "gf_3v6", "3v6GF" %></th>
      <th><%= sort_link path, "ga_3v6", "3v6GA" %></th>
      <th><%= sort_link path, "gf_p_3v6", "3v6GF%" %></th>
    </tr>
  </thead>
  <tbody>
    <% i = 1 + ((@page - 1) * 50) %>
    <% players.each do |player| %>
      <tr>
        <td class="rank-tb"><%= i %></td>
        <td class="name-tb"><%= player.is_rookie_star %><%= link_to player.full_name, player_path(player.player_profile) %></td>
        <td><%= season == false ? player.season_abbreviation : season %></td>
        <td><%= player.season_age %></td>
        <td><%= player.team_abbreviation %></td>
        <td><%= player.gf_enf %></td>
        <td><%= player.ga_enf %></td>
        <td><%= player.gf_p_enf.nil? ? "NaN%" : "#{player.gf_p_enf}%" %></td>
        <td><%= player.gf_6v5 %></td>
        <td><%= player.ga_6v5 %></td>
        <td><%= player.gf_p_6v5.nil? ? "NaN%" : "#{player.gf_p_6v5}%" %></td>
        <td><%= player.gf_6v4 %></td>
        <td><%= player.ga_6v4 %></td>
        <td><%= player.gf_p_6v4.nil? ? "NaN%" : "#{player.gf_p_6v4}%" %></td>
        <td><%= player.gf_6v3 %></td>
        <td><%= player.ga_6v3 %></td>
        <td><%= player.gf_p_6v3.nil? ? "NaN%" : "#{player.gf_p_6v3}%" %></td>
        <td><%= player.gf_ena %></td>
        <td><%= player.ga_ena %></td>
        <td><%= player.gf_p_ena.nil? ? "NaN%" : "#{player.gf_p_ena}%" %></td>
        <td><%= player.gf_5v6 %></td>
        <td><%= player.ga_5v6 %></td>
        <td><%= player.gf_p_5v6.nil? ? "NaN%" : "#{player.gf_p_5v6}%" %></td>
        <td><%= player.gf_4v6 %></td>
        <td><%= player.ga_4v6 %></td>
        <td><%= player.gf_p_4v6.nil? ? "NaN%" : "#{player.gf_p_4v6}%" %></td>
        <td><%= player.gf_3v6 %></td>
        <td><%= player.ga_3v6 %></td>
        <td><%= player.gf_p_3v6.nil? ? "NaN%" : "#{player.gf_p_3v6}%" %></td>
      </tr>
      <% i += 1 %>
    <% end -%>
  </tbody>
</table>
